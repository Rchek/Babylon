<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="utf-8"/>
    <title>Babylon - Getting Started</title>
    <!--- link to the last version of babylon --->
	 
    <script src="http://www.babylonjs.com/babylon.js"></script>
    <script src="./public/js/objLoader.js"></script>
	
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
	
    <style>
        html, body {
            overflow: hidden;
            width   : 100%;
            height  : 100%;
            margin  : 0;
            padding : 0;
        }
        #renderCanvas {
            width   : 100%;
            height  : 100%;
            touch-action: none;
        }
    </style>
</head>
<body>
    <canvas id="renderCanvas"></canvas>
	<script>
	//var socket = io();
	</script>
	<script  >
	  var canvas = document.getElementById("renderCanvas");
        var engine = new BABYLON.Engine(canvas, true);
 var scene ;
     
        
        var createScene = function () {
        
            // This creates a basic Babylon Scene object (non-mesh)
             scene = new BABYLON.Scene(engine);
        
           new BABYLON.HemisphericLight("light1", new BABYLON.Vector3(0, 1, 0), scene);
            var cam = new BABYLON.ArcRotateCamera("ArcRotateCamera", 0, 0, 5, new BABYLON.Vector3(0, 3, 0), scene);
            cam.attachControl(canvas);
        
           //var loader = new BABYLON.AssetsManager(scene);
		   
	 

		   var loader = new BABYLON.AssetsManager(scene);
var batman = loader.addMeshTask("batman", "", "./public/obj/", "stardust.obj");

 
         // var star = loader.addMeshTask("bane", "", "./public/obj/", "stardust.obj");

		
       loader.load();
	
      loader.onFinish = function() {
	  var target = scene.meshes[0];
	     console.log("mesh loaded");
		 console.log("length of the meshes " + target.name);
		 
		target.name="newname";
		 	 console.log("length of the meshes " +target.name);
               /* engine.runRenderLoop(function () {
                    scene.render();
                });*/
            };
 
        
            return scene;
       
        };
        
         scene = createScene();

		  

		 
        engine.runRenderLoop(function () {
            scene.render();
        });
 
        //Resize
        window.addEventListener("resize", function () {
            engine.resize();
        });
 
 
 $(document).ready(function(){
 
 
 
 });



	
	</script>
</body>
</html>